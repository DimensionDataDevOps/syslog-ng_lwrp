# Generated by Chef for <%= node['fqdn'] %>
# Local modifications will be overwritten.
#
# <%= node['syslog_ng']['config_dir'] %>/conf.d/<%= [@logpath[:index], @logpath[:name]].join %>
#

log {
  <% @logpath[:sources].each do |source| %>
    source(<%= node['syslog_ng']['source_prefix'] %><%= source %>);
  <% end %>

  <% @logpath[:filters].each do |filter| %>
    filter(<%= node['syslog_ng']['filter_prefix'] %><%= filter %>);
  <% end %>

  <% @logpath[:destinations].each do |destination| %>
    destination(<%= node['syslog_ng']['destination_prefix'] %><%= destination %>);
  <% end %>

  <% if @logpath[:flags] %>
    flags(<%= @logpath[:flags].join(',') %>);
  <% end %>
};

# do not forget the empty line
