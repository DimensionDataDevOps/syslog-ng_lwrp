# Generated by Chef for <%= node[:fqdn] %>
# Local modifications will be overwritten.
#
# <%= node[:syslog_ng][:config_dir] %>/conf.d/<%= [@application[:index], @application[:name]].join %>
#

destination <%= node[:syslog_ng][:destination_prefix] %><%= @application[:name] %> {
  file("<%= @application[:log_base] %>/<%= @application[:name] %>/<%= @application[:log_name]%>");
};

log {
  source(<%= @application[:source_prefix] %><%= @application[:source_name] %>);
  <% if @application[:filter_name] -%>
    filter(<%= node[:syslog_ng][:filter_prefix] %><%= @application[:filter_name] %>);
  <% end -%>
  destination(<%= node[:syslog_ng][:destination_prefix] %><%= @application[:name] %>);
};

# do not forget the empty line
